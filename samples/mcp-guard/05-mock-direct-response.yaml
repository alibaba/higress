apiVersion: networking.istio.io/v1alpha3
kind: EnvoyFilter
metadata:
  name: mock-direct-response
  namespace: higress-system
spec:
  configPatches:
  # Summarize mock
  - applyTo: HTTP_ROUTE
    match:
      context: GATEWAY
      routeConfiguration:
        vhost:
          name: api.example.com:80
          route:
            name: summarize
    patch:
      operation: MERGE
      value:
        direct_response:
          status: 200
          body:
            inline_string: "{\"result\":\"这是一个摘要（mock）\"}"
  # Translate mock
  - applyTo: HTTP_ROUTE
    match:
      context: GATEWAY
      routeConfiguration:
        vhost:
          name: api.example.com:80
          route:
            name: translate
    patch:
      operation: MERGE
      value:
        direct_response:
          status: 200
          body:
            inline_string: "{\"result\":\"翻译结果（mock）：Hello, world\"}"
