# 股票历史数据

API认证需要的APP Code请在阿里云API市场申请: https://market.aliyun.com/apimarket/detail/cmapi010845

## 什么是云市场API MCP服务

阿里云云市场是生态伙伴的交易服务平台，我们致力于为合作伙伴提供覆盖上云、商业化和售卖的全链路服务，帮助客户高效获取、部署和管理优质生态产品。云市场的API服务涵盖以下几个类目：应用开发、身份验证与金融、车辆交通与物流、企业服务、短信与运营商、AI应用与OCR、生活服务。
云市场API依托Higress提供MCP服务，您只需在云市场完成订阅并获取AppCode，通过Higress MCP Server进行配置，即可无缝集成云市场API服务。

## 如何在使用云市场API MCP服务

1. 进入API详情页，订阅该API。您可以优先使用免费试用。
2. 前往云市场用户控制台，使用阿里云账号登陆后查看已订阅API服务的AppCode，并配置到Higress MCP Server的配置中。注意：在阿里云市场订阅API服务后，您将获得AppCode。对于您订阅的所有API服务，此AppCode是相同的，您只需使用这一个AppCode即可访问所有已订阅的API服务。
3. 云市场用户控制台会实时展示已订阅的预付费API服务的可用额度，如您免费试用额度已用完，您可以选择重新订阅。

# MCP服务器功能简介文档

## 功能简介
MCP服务器主要提供股票市场相关数据查询服务，包括但不限于历史数据、实时数据、技术指标等。通过一系列API接口，用户可以方便地获取沪深港三地的股票及指数信息。这些工具和服务旨在帮助投资者和开发者快速访问所需的数据，以便进行分析、策略制定或应用程序开发。

## 工具简介

### BOLL布林通道查询
- **用途**：用于查询沪深港股票的BOLL布林通道数据。
- **使用场景**：适用于需要对特定时间段内某只股票的价格波动范围进行技术分析的情况。
- **参数**：
  - `begin_date`：开始日期，默认为当日。
  - `code`：要查询的股票代码，必填项。
  - `end_date`：结束日期，默认为当日，最大时间跨度不超过一个季度。
  - `fqtype`：复权类型，默认不复权。

### 单支股票历史数据参考
- **用途**：提供单支股票上个交易日的历史数据参考。
- **使用场景**：适合需要了解某只股票在最近交易日的表现情况时使用。
- **参数**：
  - `code`：股票编码，支持拼音首字母，必填项。
  - `needIndex`：是否返回指数信息，可选。
  - `need_k_pic`：是否返回K线图地址，可选。

### 大盘历史月线查询
- **用途**：查询股指的历史K线图数据。
- **使用场景**：对于希望查看特定时间段内大盘走势的技术分析师非常有用。
- **参数**：
  - `beginDay`：开始时间，默认为当天。
  - `code`：股指编码，必填项。
  - `time`：查询周期，默认5分钟K线。

### 批量查询历史参考数据
- **用途**：批量获取多支股票的历史数据。
- **使用场景**：当需要同时分析多只股票的历史表现时特别有用。
- **参数**：
  - `needIndex`：是否返回四大股票指数信息，可选。
  - `stocks`：多个股票代码间以逗号分隔，最多20个代码，必填项。

### 沪深KDJ查询
- **用途**：查询沪深两市股票的KDJ随机指数。
- **使用场景**：用于评估股票价格趋势强度及其可能的变化点。
- **参数**：
  - `code`：股票代码，必填项。
  - `end`：结束日期，必填项。
  - `fqtype`：复权类型，默认不复权。
  - `start`：开始日期，必填项。

### 沪深MACD数据查询
- **用途**：获取股票的MACD指标值。
- **使用场景**：MACD是一种常用的趋势跟踪动量指标，用于识别潜在的买入或卖出信号。
- **参数**：
  - `code`：股票代码。
  - `end`：结束时间。
  - `fqtype`：复权类型，默认不复权。
  - `start`：开始时间。

### 股票列表查询
- **用途**：根据指定条件列出符合条件的所有股票。
- **使用场景**：当需要按市场或其他标准筛选并展示股票列表时使用。
- **参数**：
  - `market`：市场简写，支持sh、sz、hk。
  - `page`：页码，每页最多返回50条记录。

以上仅是部分工具的介绍，完整的工具列表还包括更多针对不同需求设计的功能模块。每个工具都有详细的参数说明以及预期的响应结构，确保用户能够准确地调用API并解析返回的数据。
