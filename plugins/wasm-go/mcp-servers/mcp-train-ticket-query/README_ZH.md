# 火车票查询

API认证需要的APP Code请在阿里云API市场申请: https://market.aliyun.com/apimarket/detail/cmapi011240

## 什么是云市场API MCP服务

阿里云云市场是生态伙伴的交易服务平台，我们致力于为合作伙伴提供覆盖上云、商业化和售卖的全链路服务，帮助客户高效获取、部署和管理优质生态产品。云市场的API服务涵盖以下几个类目：应用开发、身份验证与金融、车辆交通与物流、企业服务、短信与运营商、AI应用与OCR、生活服务。
云市场API依托Higress提供MCP服务，您只需在云市场完成订阅并获取AppCode，通过Higress MCP Server进行配置，即可无缝集成云市场API服务。

## 如何在使用云市场API MCP服务

1. 进入API详情页，订阅该API。您可以优先使用免费试用。
2. 前往云市场用户控制台，使用阿里云账号登陆后查看已订阅API服务的AppCode，并配置到Higress MCP Server的配置中。注意：在阿里云市场订阅API服务后，您将获得AppCode。对于您订阅的所有API服务，此AppCode是相同的，您只需使用这一个AppCode即可访问所有已订阅的API服务。
3. 云市场用户控制台会实时展示已订阅的预付费API服务的可用额度，如您免费试用额度已用完，您可以选择重新订阅。

# MCP服务器功能简介

本文档旨在介绍MCP服务器的主要功能及其配置的工具，这些工具主要用于火车票信息查询服务。通过调用不同的API接口，用户能够获取详细的列车时刻表、票价及座位信息等。

## 功能简介

`train-ticket-query` 服务器主要提供了三个针对不同需求场景设计的火车票查询服务。这包括余票查询、站站间行程查询以及特定车次的信息查询。每个工具都设计有特定参数来满足用户的查询需求，并返回结构化的数据结果，以便于进一步处理或展示给最终用户。此系统适用于需要集成火车票相关信息的应用程序开发者或者旅行规划平台。

## 工具简介

### 1. 余票查询接口
- **用途**：用于根据出发地、目的地和日期检索可用的列车班次及其详细信息。
- **使用场景**：当用户想要知道从一个城市到另一个城市的可选列车时，可以通过此接口快速获得所有符合条件的选项列表。
- **请求参数**：
  - `date`: 查询日期（必填）
  - `end`: 目的地（必填）
  - `start`: 出发地（必填）

### 2. 站站查询接口
- **用途**：提供基于出发点与终点之间的直接连接线路搜索功能，并允许指定是否仅考虑高速铁路选项。
- **使用场景**：适用于希望了解两地之间是否有直达列车或只关注高铁服务的情况。
- **请求参数**：
  - `date`: 查询日期
  - `end`: 目的地（必填）
  - `ishigh`: 是否仅显示高铁（0表示否，1表示是）
  - `start`: 出发地（必填）

### 3. 车次查询接口
- **用途**：允许用户输入具体的列车编号以获取该列车沿途停靠的所有站点详情。
- **使用场景**：对于已经确定乘坐哪一列火车但想了解更多关于途经站点信息的旅客非常有用。
- **请求参数**：
  - `date`: 查询日期
  - `trainno`: 列车编号（必填）

以上就是对`train-ticket-query`服务器所提供功能的一个概述。每个工具都有其独特的应用场景，能够有效地帮助开发人员构建更加丰富且实用的交通出行相关应用。
