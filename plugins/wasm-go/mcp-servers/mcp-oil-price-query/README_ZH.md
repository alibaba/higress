# 油价查询

API认证需要的APP Code请在阿里云API市场申请: https://market.aliyun.com/apimarket/detail/cmapi00062739

## 什么是云市场API MCP服务

阿里云云市场是生态伙伴的交易服务平台，我们致力于为合作伙伴提供覆盖上云、商业化和售卖的全链路服务，帮助客户高效获取、部署和管理优质生态产品。云市场的API服务涵盖以下几个类目：应用开发、身份验证与金融、车辆交通与物流、企业服务、短信与运营商、AI应用与OCR、生活服务。
云市场API依托Higress提供MCP服务，您只需在云市场完成订阅并获取AppCode，通过Higress MCP Server进行配置，即可无缝集成云市场API服务。

## 如何在使用云市场API MCP服务

1. 进入API详情页，订阅该API。您可以优先使用免费试用。
2. 前往云市场用户控制台，使用阿里云账号登陆后查看已订阅API服务的AppCode，并配置到Higress MCP Server的配置中。注意：在阿里云市场订阅API服务后，您将获得AppCode。对于您订阅的所有API服务，此AppCode是相同的，您只需使用这一个AppCode即可访问所有已订阅的API服务。
3. 云市场用户控制台会实时展示已订阅的预付费API服务的可用额度，如您免费试用额度已用完，您可以选择重新订阅。

# MCP服务器配置功能简介

本文件旨在为MCP服务器`oil-price-query`提供一个清晰的功能概述及其所支持工具的简要介绍。通过此文档，用户可以更好地理解如何利用这些服务来获取所需信息。

## 功能简介

`oil-price-query`服务器主要负责处理与中国各地油价相关的查询请求。它通过阿里云市场API接口获取最新的油价数据，并以结构化的方式返回给调用者。这项服务特别适用于需要实时监控或分析不同地区燃油价格变化趋势的应用场景中，例如汽车加油应用、物流成本估算系统等。

## 工具简介

### 今日油价

- **用途**：此工具允许用户查询指定省份当前日期下的各类汽油价格。
- **使用场景**：适用于个人用户想要了解自己所在区域或其他关心地区的最新油价情况；企业可用于成本控制和预算规划时参考最新的燃料费用标准。
- **参数说明**:
  - `prov`: 需要查询的省份名称，如“北京”、“广西”。此参数必须在URL查询字符串中指定。
  
- **请求示例**:
  ```http
  GET https://smjryjcx.market.alicloudapi.com/oil/price?prov=北京
  Authorization: APPCODE <your_app_code_here>
  X-Ca-Nonce: <random_uuid_value>
  ```

- **响应结构**:
  - **code**: 状态码 (整数)
  - **data**: 数据对象
    - **data.list[]**: 油价列表
      - **ct**: 更新时间 (字符串)
      - **p0**: 0号柴油价格 (字符串)
      - **p89**: 89号汽油价格 (字符串)
      - **p90**: 90号汽油价格 (字符串)
      - **p92**: 92号汽油价格 (字符串)
      - **p93**: 93号汽油价格 (字符串)
      - **p95**: 95号汽油价格 (字符串)
      - **p97**: 97号汽油价格 (字符串)
      - **p98**: 98号汽油价格 (字符串)
      - **prov**: 查询省份 (字符串)
    - **orderNo**: 订单编号 (字符串)
    - **ret_code**: 返回状态码，0表示成功 (整数)
  - **msg**: 响应消息 (字符串)
  - **success**: 是否成功 (布尔值)

请注意替换上述示例中的`<your_app_code_here>`为您从阿里云获得的有效AppCode。此外，每次请求时生成一个新的随机UUID作为`X-Ca-Nonce`头的值。
